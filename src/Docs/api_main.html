<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Python: module api_main</title>
</head><body>

<table class="heading">
<tr class="heading-text decor">
<td class="title">&nbsp;<br><strong class="title">api_main</strong></td>
<td class="extra"><a href=".">index</a><br><a href="file:c%3A%5Cusers%5Cdavid%5Cdocuments%5Crepositories%5Cllmind%5Csrc%5Capi_main.py">c:\users\david\documents\repositories\llmind\src\api_main.py</a></td></tr></table>
    <p></p>
<p>
<table class="section">
<tr class="decor pkg-content-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Modules</strong></td></tr>
    
<tr><td class="decor pkg-content-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><table><tr><td class="multicolumn"><a href="db_config.html">db_config</a><br>
<a href="langchain.hub.html">langchain.hub</a><br>
</td><td class="multicolumn"><a href="importlib.html">importlib</a><br>
<a href="pyodbc.html">pyodbc</a><br>
</td><td class="multicolumn"><a href="re.html">re</a><br>
</td><td class="multicolumn"></td></tr></table></td></tr></table><p>
<table class="section">
<tr class="decor functions-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Functions</strong></td></tr>
    
<tr><td class="decor functions-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><dl><dt><a name="-askLLM"><strong>askLLM</strong></a>()</dt><dd><span class="code">Endpoint&nbsp;that&nbsp;takes&nbsp;a&nbsp;clinical&nbsp;case&nbsp;as&nbsp;input,&nbsp;queries&nbsp;the&nbsp;LLM,&nbsp;and&nbsp;guides&nbsp;the&nbsp;user<br>
through&nbsp;a&nbsp;series&nbsp;of&nbsp;questions&nbsp;to&nbsp;refine&nbsp;the&nbsp;differential&nbsp;diagnosis.</span></dd></dl>
 <dl><dt><a name="-get_differential_diagnoses"><strong>get_differential_diagnoses</strong></a>(conn, initial_diagnosis, confidence_interval=0.8)</dt><dd><span class="code">Fetches&nbsp;differential&nbsp;diagnoses&nbsp;from&nbsp;the&nbsp;SQL&nbsp;Server&nbsp;database&nbsp;based&nbsp;on&nbsp;the&nbsp;initial&nbsp;diagnosis,<br>
using&nbsp;a&nbsp;confidence&nbsp;interval&nbsp;for&nbsp;fuzzy&nbsp;matching.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;(pyodbc.Connection):&nbsp;The&nbsp;database&nbsp;connection&nbsp;object.<br>
&nbsp;&nbsp;&nbsp;&nbsp;initial_diagnosis&nbsp;(str):&nbsp;The&nbsp;initial&nbsp;diagnosis&nbsp;from&nbsp;the&nbsp;LLM.<br>
&nbsp;&nbsp;&nbsp;&nbsp;confidence_interval&nbsp;(float,&nbsp;optional):&nbsp;The&nbsp;minimum&nbsp;similarity&nbsp;score&nbsp;(0&nbsp;to&nbsp;1)&nbsp;for&nbsp;a&nbsp;match.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Defaults&nbsp;to&nbsp;0.8.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;dictionaries,&nbsp;where&nbsp;each&nbsp;dictionary&nbsp;represents&nbsp;a&nbsp;differential&nbsp;diagnosis.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;empty&nbsp;list&nbsp;if&nbsp;no&nbsp;differential&nbsp;diagnoses&nbsp;are&nbsp;found.</span></dd></dl>
 <dl><dt><a name="-get_next_question"><strong>get_next_question</strong></a>(diagnoses, current_level, previous_answer=None)</dt><dd><span class="code">Determines&nbsp;the&nbsp;next&nbsp;question&nbsp;to&nbsp;ask&nbsp;the&nbsp;user&nbsp;based&nbsp;on&nbsp;the&nbsp;differential&nbsp;diagnoses.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;diagnoses&nbsp;(list):&nbsp;A&nbsp;list&nbsp;of&nbsp;dictionaries&nbsp;representing&nbsp;the&nbsp;differential&nbsp;diagnoses.<br>
&nbsp;&nbsp;&nbsp;&nbsp;current_level&nbsp;(int):&nbsp;The&nbsp;current&nbsp;level&nbsp;in&nbsp;the&nbsp;diagnosis&nbsp;graph.<br>
&nbsp;&nbsp;&nbsp;&nbsp;previous_answer&nbsp;(str,&nbsp;optional):&nbsp;The&nbsp;user's&nbsp;answer&nbsp;to&nbsp;the&nbsp;previous&nbsp;question&nbsp;("yes"&nbsp;or&nbsp;"no").<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;tuple:&nbsp;(str,&nbsp;int)&nbsp;-&nbsp;The&nbsp;next&nbsp;question&nbsp;to&nbsp;ask,&nbsp;and&nbsp;the&nbsp;next&nbsp;level,&nbsp;or&nbsp;(None,&nbsp;current_level)&nbsp;if&nbsp;no&nbsp;further&nbsp;questions.</span></dd></dl>
 <dl><dt><a name="-load_db_config"><strong>load_db_config</strong></a>(config_file_path)</dt><dd><span class="code">#&nbsp;Load&nbsp;database&nbsp;configuration&nbsp;from&nbsp;file</span></dd></dl>
</td></tr></table><p>
<table class="section">
<tr class="decor data-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Data</strong></td></tr>
    
<tr><td class="decor data-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><strong>app</strong> = &lt;Flask 'api_main'&gt;<br>
<strong>request</strong> = &lt;LocalProxy unbound&gt;</td></tr></table>
</body></html>